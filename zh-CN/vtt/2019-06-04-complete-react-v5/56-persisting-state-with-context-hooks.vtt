WEBVTT

1
00:00:00.270 --> 00:00:02.049
> > Brian Holt: 我还有一件事要给你看
&gt;&gt; Brian Holt: So I got one more
thing I wanna show you here.

2
00:00:03.220 --> 00:00:05.120
我想展示一下如何更新主题，对吗 ?
And I wanna show you how to
update the the theme, right?

3
00:00:05.120 --> 00:00:08.679
到目前为止，我刚刚向大家展示了如何从主题中阅读，但是
So far, I've just shown you how
to read from the theme, but

4
00:00:08.679 --> 00:00:10.259
我们还想更新主题
we also wanna be able to update the theme.

5
00:00:11.919 --> 00:00:19.013
所以我想让你回到 SearchParams ，也就是 SearchParams。
So I want you to go back to
SearchParams as well, SearchParams.

6
00:00:19.013 --> 00:00:24.862
我们要在 BreedDropdown 的下面制造另一个 Dropdown 。
We're going to make another Dropdown,
underneath BreedDropdown here.

7
00:00:24.862 --> 00:00:30.861
我们会说标签 htmlFor= 位置。
We're gonna say label htmlFor= location.

8
00:00:32.427 --> 00:00:36.746
>> Brian Holt: 对不起，不是位置，而是主题。
&gt;&gt; Brian Holt: Sorry,
not location but theme rather.

9
00:00:40.264 --> 00:00:43.433
> > Brian Holt: 我们会有一个主题，
&gt;&gt; Brian Holt: And
we're gonna have a Theme there, and

10
00:00:43.433 --> 00:00:45.679
我们要有个选择
we're gonna have a select.

11
00:00:48.659 --> 00:00:53.020
这个价值将会是平等的主题。
And the value is going to equal theme.

12
00:00:54.670 --> 00:00:59.973
而 onChange ，我们将设定主题，
And onChange,
we're going to set the theme,

13
00:00:59.973 --> 00:01:07.457
因此， setTheme 为 ee.target.value，对于 onBlur相同。
so setTheme to be e.target.value,
and same thing for onBlur.

14
00:01:16.664 --> 00:01:20.081
>> Brian Holt: 因此，让我们在此抓取 setTheme ，在顶部向上看，
&gt;&gt; Brian Holt: So let's go grab
setTheme here, cuz up here at the top,

15
00:01:20.081 --> 00:01:23.237
我们有主题但我们不是在抓 setTheme
we have theme, and
we're not grabbing setTheme.

16
00:01:23.237 --> 00:01:28.549
所以我要用的是 setTheme ，以从 ThemeContext 中抓取。
So all I have to put here is setTheme
to grab that out of the ThemeContext.

17
00:01:28.549 --> 00:01:31.120
再 Cuz ，这只是一个钩子，对吧 ?
Cuz again, this is just a hook, right?

18
00:01:31.120 --> 00:01:33.109
这是一个正常的钩子，但是钩子会在应用程序中存在。
It's a normal hook, but
the hook lives in-app.

19
00:01:33.109 --> 00:01:35.397
它并不是生活在 SearchParams中。
It doesn't actually live in SearchParams.

20
00:01:39.002 --> 00:01:43.397
>> Brian Holt: 好的，然后我们在这里进行选择。
&gt;&gt; Brian Holt: Okay, and
then we have the select here.

21
00:01:46.264 --> 00:01:48.599
> > Brian Holt: 接下来，我们将给出几个选项。
&gt;&gt; Brian Holt: And then here,
we're just gonna give a couple of options.

22
00:01:49.620 --> 00:01:54.819
这里有我给的， peru，可爱的颜色，
So here's ones that I gave, peru,
cuz that's such a lovely color,

23
00:02:02.317 --> 00:02:03.510
> > Brian Holt: 深蓝色，
&gt;&gt; Brian Holt: darkblue,

24
00:02:05.850 --> 00:02:07.328
> > Brian Holt: 深蓝色，
&gt;&gt; Brian Holt: darkblue,

25
00:02:10.617 --> 00:02:11.788
> > 布莱恩 - 霍尔特: 平庸
&gt;&gt; Brian Holt: mediumorchid,

26
00:02:11.788 --> 00:02:13.294
这颜色太好了
cuz that's a color.

27
00:02:18.026 --> 00:02:20.617
>> Brian Holt: 还是另一个好的 ?
&gt;&gt; Brian Holt: Or what's another good one?

28
00:02:20.617 --> 00:02:21.879
我这里有什么
What do I have here?

29
00:02:21.879 --> 00:02:23.456
很有魅力那是种颜色
chartreuse, that's a color.

30
00:02:31.062 --> 00:02:33.831
>> Brian Holt: 现在，很多人可能想知道为什么我们不使用
&gt;&gt; Brian Holt: Now, a lot people will
probably wonder why don't we just use

31
00:02:33.831 --> 00:02:35.960
又来了这看起来像个下拉的
Dropdown again,
this looks like a Dropdown.

32
00:02:37.210 --> 00:02:40.650
我们不使用 Dropdown 的原因是 Dropdown 会产生它自己的钩子，对吗 ?
The reason why we're not using Dropdown is
cuz Dropdown creates its own hooks, right?

33
00:02:40.650 --> 00:02:42.879
我们实际上是用别人的钩子
And we're actually using
someone else's hook.

34
00:02:42.879 --> 00:02:47.509
我们正在使用应用程序挂钩，而不使用 SearchParams 挂钩。
We're using apps hooks,
we're not using SearchParams hooks.

35
00:02:47.509 --> 00:02:50.503
所以我们不能用 Dropdown hook 的方式
So that's why we're not gonna
use our use Dropdown hook here.

36
00:03:01.549 --> 00:03:04.008
>> Brian Holt: 好的，工作吗 ?
&gt;&gt; Brian Holt: Okay, is that working?

37
00:03:08.943 --> 00:03:10.759
>> Brian Holt: 应该不错。
&gt;&gt; Brian Holt: That should be good.

38
00:03:10.759 --> 00:03:12.289
我们去看看它是否有效。
Let's go take a look and see if it works.

39
00:03:14.310 --> 00:03:18.400
所以现在我有了一个新的 " Dropdown " 主题。
So now I have a new
Dropdown here with Theme.

40
00:03:18.400 --> 00:03:22.033
如果我把它改为中等兰花对吧
If I change this to be Medium Orchid,
right,

41
00:03:22.033 --> 00:03:27.402
那是一种漂亮的中奥兰花我猜是在查特鲁特还是秘鲁
that's a nice Medium Orchid I suppose,
or Chartreuse, or Peru.

42
00:03:27.402 --> 00:03:29.509
但这里是有趣的部分。
But here is the interesting part of this.

43
00:03:30.979 --> 00:03:34.680
如果这只是一个正常的钩子只要我浏览到细节页面
If this was just a normal hook, as soon
as I navigated to the details page,

44
00:03:34.680 --> 00:03:36.770
我在解释这问题时把代码留在这里
I'll leave the code up here
while I'm explaining this.

45
00:03:36.770 --> 00:03:41.030
只要我导航到细节页面就可以了，对吧 ?
As soon as I navigated to the details
page, right, it would drop that, right?

46
00:03:41.030 --> 00:03:44.240
因为组件会被卸载，并且所有挂钩都将被销毁。
Because the component would get unmounted
and all of its hooks would be destroyed.

47
00:03:44.240 --> 00:03:47.039
所以下次你回去的时候就会回到违约状态，对吧 ?
So it would go back to its default state
next time you went back to it, right?

48
00:03:49.150 --> 00:03:50.280
同样地，
By the same token,

49
00:03:50.280 --> 00:03:52.990
也不一定要更新细节页面，对吧 ?
it would not update necessarily
the details page either, right?

50
00:03:52.990 --> 00:03:56.204
但因为现在这个生活在应用程序中，对，在应用程序中总是呈现的，对吗 ?
But because now this lives in-app, right,
and in-app is always rendered, right?

51
00:03:56.204 --> 00:03:58.370
应用程序从不取消呈示。
In-app never unrenders.

52
00:03:59.860 --> 00:04:03.582
因此，现在的优势在于状态将超越页面导航。
So the advantage of this is now the state
will live beyond page navigations.

53
00:04:05.832 --> 00:04:08.870
>> 布莱恩 - 霍尔特: 让我向你们展示一下我的观点，对吧 ?
&gt;&gt; Brian Holt: So let me demonstrate
my point to you here, right?

54
00:04:08.870 --> 00:04:12.740
我们把它改为 " 中等兰花 " 对吧
Let's change this to be Medium Orchid,
right?

55
00:04:12.740 --> 00:04:19.523
如果我到这里的详细信息页面， >> Brian Holt: 是蓝色的，为什么是蓝色的 ?
And if I go to the details page here,
&gt;&gt; Brian Holt: It's blue, why is it blue?

56
00:04:19.523 --> 00:04:21.507
它应该留下
It should stay.

57
00:04:25.723 --> 00:04:27.959
> > Brian Holt: 那不是应该发生的事情。
&gt;&gt; Brian Holt: Well,
that's not what's supposed to happen.

58
00:04:27.959 --> 00:04:29.106
这毁了我的意思
That ruins my point.

59
00:04:33.716 --> 00:04:35.209
>> Brian Holt: SetTheme，
&gt;&gt; Brian Holt: SetTheme,

60
00:05:16.964 --> 00:05:20.699
>> Brian Holt: 深蓝色， >> Brian Holt: 然后返回
&gt;&gt; Brian Holt: darkblue,
&gt;&gt; Brian Holt: Then you go back to

61
00:05:20.699 --> 00:05:21.617
主页。
the homepage.

62
00:05:27.134 --> 00:05:34.350
>> Brian Holt: 秘鲁，然后浏览。
&gt;&gt; Brian Holt: Peru, and then navigate.

63
00:05:34.350 --> 00:05:37.610
它完全没有安装在页面上，这真的很有趣。
It's fully unmounting the page,
that's really interesting.

64
00:05:37.610 --> 00:05:42.788
所以我不知道为什么它会完全卸载这个页面。
So I'm not sure why it's
fully unmounting the page.

65
00:05:42.788 --> 00:05:44.180
我得去看看
I have to go look.

66
00:05:44.180 --> 00:05:47.269
但你可以看到它实际上是在每次我浏览的时候清除控制台。
But you can see it's actually clearing the
console every single time that I navigate.

67
00:05:49.949 --> 00:05:51.125
那就好
So that's fine.

68
00:05:53.891 --> 00:05:55.090
>> Brian Holt: 此处的链接是什么 ?
&gt;&gt; Brian Holt: What is the link there?

69
00:05:55.090 --> 00:05:56.509
这是佩特的链接
That's the link coming from Pet.

70
00:05:59.680 --> 00:06:01.581
这就是原因。
This is why.

71
00:06:01.581 --> 00:06:04.449
我不知道我们为什么不去更新这个
I don't know why we didn't
ever end up updating this.

72
00:06:05.670 --> 00:06:06.779
我们现在就进行更新。
Let's go ahead and update it now.

73
00:06:08.779 --> 00:06:14.180
就在这里我们想进口林克
So here inside of pet.js
we want to import Link

74
00:06:14.180 --> 00:06:20.720
从 @reach/router， >> Brian Holt: 好吗 ?
from @reach/router,
&gt;&gt; Brian Holt: Okay?

75
00:06:23.930 --> 00:06:26.457
> > 布莱恩 - 霍尔特:
&gt;&gt; Brian Holt: So
we're gonna change this a right

76
00:06:26.457 --> 00:06:31.108
在这里， >> Brian Holt:
here,
&gt;&gt; Brian Holt: Instead of being an a,

77
00:06:31.108 --> 00:06:33.040
我们要把它连接起来
we're gonna make it a link.

78
00:06:33.040 --> 00:06:35.105
而不是 href 而是我们要做的
Instead of an href,
we're gonna make this to.

79
00:06:39.249 --> 00:06:39.826
>> Brian Holt:
&gt;&gt; Brian Holt: Right, and

80
00:06:39.826 --> 00:06:43.790
我们只是把它从正常的主播标记改为链接标签
we just change this from being a normal
anchor tag to being a link tag.

81
00:06:43.790 --> 00:06:47.689
而现在，在它实际上是在做一个完整的页面导航之前
And now, whereas before it was actually
doing a full page navigation was changing

82
00:06:47.689 --> 00:06:49.300
页面，对吧 ?
the page, right?

83
00:06:49.300 --> 00:06:52.909
所以它摧毁了这个领地，然后再次重建它。
So it was destroying the dom and
then rebuilding it again.

84
00:06:52.909 --> 00:06:57.675
现在，它实际上是要用 HTML 历史来浏览这些页面。
Now, it's actually going to use
HTML history to navigate the pages.

85
00:07:02.249 --> 00:07:05.365
>> 布莱恩 - 霍尔特: 好的，如果我把这个改变给兰花，
&gt;&gt; Brian Holt: Okay, so
now if I just change this to Orchid, and

86
00:07:05.365 --> 00:07:09.393
然后我就去这里看胖子 Slim ，注意到它还是兰兰。
then I go to Fat Boy Slim here,
notice that it's still Orchid.

87
00:07:14.668 --> 00:07:15.649
>> Brian Holt: 有道理吗 ?
&gt;&gt; Brian Holt: Makes sense?

88
00:07:18.103 --> 00:07:19.396
>> Brian Holt: 它是否也能检测到我的错误 ?
&gt;&gt; Brian Holt: Did it also make
sense the error that I had?

89
00:07:19.396 --> 00:07:23.502
很可能你看到了这个错误，因为你会看到这个错误。
It's probably good that you saw that error
because that's what you'll see if you

90
00:07:23.502 --> 00:07:26.495
无意中忘记使用链接标记，而不使用标记。
accidentally forget to use a link tag,
instead of an a tag.

91
00:07:26.495 --> 00:07:29.245
这是另一件事 [ INAUDIBLE ] 正在为你做。
It's another thing that
[INAUDIBLE] is doing for you.

92
00:07:29.245 --> 00:07:33.831
>> 扬声器 2: 如果我们使用导航，那么此错误将不存在。
&gt;&gt; Speaker 2: This error wouldn't present
itself if we use the navigate though,

93
00:07:33.831 --> 00:07:34.401
对吧 ?
right?

94
00:07:34.401 --> 00:07:37.009
>> Brian Holt: 否，导航也会使用历史记录。
&gt;&gt; Brian Holt: No, yeah,
navigate would also use history as well.

95
00:07:37.009 --> 00:07:39.730
这纯粹是你用的吧
This is purely if you use a, right?

96
00:07:39.730 --> 00:07:42.790
因此，重定向将正确处理它，浏览将正常工作。
So redirect would handle it correctly,
navigate would work correctly.

97
00:07:42.790 --> 00:07:44.752
只要你用一个就好了
It's just purely if you use a.

98
00:07:47.384 --> 00:07:50.843
>> Brian Holt: 好的问题，其他问题?
&gt;&gt; Brian Holt: Good question,
other questions?

99
00:07:53.480 --> 00:07:57.619
>> 扬声器 3: 使用阵列破坏的挂钩种类，
&gt;&gt; Speaker 3: With the hooks kind of
utilizing the array destructuring,

100
00:07:57.619 --> 00:08:01.589
如果你出于某种原因想退出政府
if you for some reason wanted
to pull out the updater, but

101
00:08:01.589 --> 00:08:07.420
在某个地方不使用目前的国家，是否有这样做的惯例 ?
not use the current state somewhere,
is there a convention for doing that?

102
00:08:07.420 --> 00:08:09.845
>> Brian Holt: 通常，您只会显示一个下划线，
&gt;&gt; Brian Holt: Typically,
you just put an underscore,

103
00:08:09.845 --> 00:08:13.029
埃斯皮林还是会对你大喊喊叫的
eslint is still gonna yell at you.

104
00:08:13.029 --> 00:08:16.430
你把这条线禁用了对吧
And the way that you just
disable the line, right?

105
00:08:16.430 --> 00:08:21.089
所以他在问我这里有什么挂钩
So what he's asking if I have a hook here,
let's just say const

106
00:08:22.930 --> 00:08:27.725
blah equalah ， blah 和 setBlah，对，
blah equal, or blah and setBlah, right,

107
00:08:27.725 --> 00:08:33.509
很明显是用了 lah 的国家
= useState with blah, obviously.

108
00:08:33.509 --> 00:08:36.490
就像这样如果我不关心现在的情况
Like this, what happens if I don't
actually care what blah is right now,

109
00:08:36.490 --> 00:08:37.940
我只是想更新一下
I just wanna update blah, right?

110
00:08:37.940 --> 00:08:38.668
我要怎么做
How would I do that?

111
00:08:39.809 --> 00:08:43.090
这就是我要做的事，我给自己下一个下划线
This is what I would do, I would put an
underscore there just to signify to myself

112
00:08:43.090 --> 00:08:46.159
我没在用这一文不值
that I'm not using this,
this is worthless.

113
00:08:46.159 --> 00:08:48.106
我也会用参数做同样的事
It's the same thing I'll
do with parameters as well.

114
00:08:49.744 --> 00:08:54.644
>> Brian Holt: 但 eslint 会说这是未使用的变量，
&gt;&gt; Brian Holt: But eslint is gonna
say this is unused variable and

115
00:08:54.644 --> 00:09:02.942
我不喜欢这样，这样你就可以这样做了，就像是在说 " 不一样 " 的线。
I don't like that, so the way you can just
do that is just say eslint-disable line.

116
00:09:02.942 --> 00:09:08.951
你可以告诉它禁止使用任何未使用的 vars
And you can actually tell it to
disable specifically no unused vars,

117
00:09:08.951 --> 00:09:11.549
没有未使用的 vars，对吗 ?
no-unused-vars, right?

118
00:09:11.549 --> 00:09:14.140
然后，它将专门针对该线路禁用该线路。
And then it will specifically
disable that for that line.

119
00:09:14.140 --> 00:09:17.207
[ 空白音频]
[BLANK AUDIO]
