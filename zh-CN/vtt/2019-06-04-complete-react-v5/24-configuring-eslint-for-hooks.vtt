WEBVTT

1
00:00:00.070 --> 00:00:02.009
>> Brian Holt: 打开控制台仅为秒。
&gt;&gt; Brian Holt: Open your console for
just a second.

2
00:00:03.060 --> 00:00:06.849
我要停止我的服务器但是你也可以打开一个新的终端
I'm gonna stop my server, but you could
just open a new terminal as well.

3
00:00:06.849 --> 00:00:11.112
我说 npm 安装 -D
I'm gonna say npm install -D

4
00:00:11.112 --> 00:00:16.236
eslint-plugin-hook-hook。
eslint-plugin-react-hooks.

5
00:00:19.338 --> 00:00:22.742
>> Brian Holt: 这是 React 团队关于写挂钩的正式规则。
&gt;&gt; Brian Holt: This is official rules
from the React team about writing hooks.

6
00:00:24.344 --> 00:00:27.152
>> Brian Holt: 我想给你介绍几个这些。
&gt;&gt; Brian Holt: So I want to
introduce you to a couple of these.

7
00:00:30.841 --> 00:00:35.381
>> Brian Holt: 因此，请立即打开您的 ESLint 配置，并且
&gt;&gt; Brian Holt: So
open your ESLint config really quick, and

8
00:00:35.381 --> 00:00:41.713
在规则里面我们要加添几个
here inside of the rules,
we're going to add a couple of them,

9
00:00:41.713 --> 00:00:48.182
和挂钩 / 规则挂钩，我们希望有 2 个错误。
react-hooks/rules-of-hooks, and
we want that 2 error.

10
00:00:48.182 --> 00:00:54.396
因此， 2 将使其出错， >> Brian Holt: And
So 2 will make it error on that,
&gt;&gt; Brian Holt: And

11
00:00:54.396 --> 00:00:57.478
我们也要把它加到插件上。
we also I need to add
it to plugins as well.

12
00:01:02.255 --> 00:01:05.546
>> Brian Holt: 反应挂钩，如那样。
&gt;&gt; Brian Holt: react-hooks, like that.

13
00:01:08.954 --> 00:01:13.262
> > Brian Holt: 好的，我在笔记中遗漏了其中一个，
&gt;&gt; Brian Holt: Okay, and
I am missing one of them here in my notes,

14
00:01:13.262 --> 00:01:15.275
我们去找吧
let's just go find it.

15
00:01:15.275 --> 00:01:22.266
ESLint React， plug-in React 挂钩，这是一个。
ESLint React,
plug-in React hooks, this one.

16
00:01:26.882 --> 00:01:30.799
> > Brian Holt: 我在这里还有一个应该在里面的。
&gt;&gt; Brian Holt: And I have another one
here that we should have in there.

17
00:01:30.799 --> 00:01:32.888
这些都是最详尽的
These ones, exhaustive depths.

18
00:01:35.710 --> 00:01:37.377
>> Brian Holt: 好的。
&gt;&gt; Brian Holt: So put in that one as well.

19
00:01:40.683 --> 00:01:42.399
> > Brian Holt: 我们会做 1个。
&gt;&gt; Brian Holt: And we'll do 1.

20
00:01:45.237 --> 00:01:48.018
> > 布莱恩 - 霍特:
&gt;&gt; Brian Holt: So
this one is going to force you to,

21
00:01:48.018 --> 00:01:52.849
我们稍后会做的，但它与事实有关。
we'll actually about later, but
it has to do with the facts.

22
00:01:55.129 --> 00:01:58.585
所以，再一次提醒你， 0 就关了， 1 号穿了，
So again, just to remind you,
0 is turn off, 1 is worn, and

23
00:01:58.585 --> 00:02:00.319
2 是错的对吧
2 is make it an error, right?

24
00:02:00.319 --> 00:02:03.625
所以任何时候只要你把钩子弄乱
So anytime that you mess up
rule of hooks through an error,

25
00:02:03.625 --> 00:02:07.546
只要你有深入的深度它就会被磨损
anytime that you have an exhaustive
depths thing, it's just worn.

26
00:02:09.632 --> 00:02:12.375
>> 布莱恩 - 霍尔特: 让我们来看看这对我们到底有什么用。
&gt;&gt; Brian Holt: So let's take a look
at what that actually does for us.

27
00:02:12.375 --> 00:02:17.013
如果我说， >> Brian Holt: 如果 {false}，或者
If I say,
&gt;&gt; Brian Holt: if {false}, or

28
00:02:17.013 --> 00:02:21.899
就像这样我不知道然后我把它放进去
something like that, I don't know,
and then I put this in there,

29
00:02:21.899 --> 00:02:26.721
它会说，嘿，看，或者这一个，在哪里 ?
it's gonna say, hey look, or
this one right here, where is it?

30
00:02:32.651 --> 00:02:33.518
>> Brian Holt: 我们开始吧。
&gt;&gt; Brian Holt: There we go.

31
00:02:33.518 --> 00:02:36.171
有条件地调用 React 挂钩。
React hook is called conditionally.

32
00:02:36.171 --> 00:02:39.740
必须以组件呈现的完全相同的顺序调用 React 挂钩。
React hooks must be called in the exact
same order in component renders.

33
00:02:39.740 --> 00:02:42.415
你可以看到这来自于钩子的统治。
And you can see that
comes from rule of hooks.

34
00:02:44.437 --> 00:02:47.228
>> Brian Holt: 挂钩规则，这有道理吗 ?
&gt;&gt; Brian Holt: Rules of hooks,
that makes sense?

35
00:02:47.228 --> 00:02:49.764
所以它会阻止你那样做
So it's gonna prevent you
from doing stuff like that.

36
00:02:53.552 --> 00:02:55.475
>> Brian Holt: 老实说，一旦你习惯了这样做，
&gt;&gt; Brian Holt: Now honestly,
once you get used to doing that, and

37
00:02:55.475 --> 00:02:57.780
你只知道永远不去做这也没那么有用
you just know never to do it,
it's not really that helpful.

38
00:02:57.780 --> 00:03:01.522
但如你想象的那样如果你把这个船给你的同事
But as you may imagine, if you ship this
to your coworker that doesn't know about

39
00:03:01.522 --> 00:03:05.230
这会阻止他们做你不想让他们做的事情
that, this will prevent them from doing
things that you don't want them to do.
