WEBVTT

1
00:00:00.530 --> 00:00:02.890
> > Jem Young: 我们再来一次练习。
&gt;&gt; Jem Young: So
let's try another exercise.

2
00:00:02.890 --> 00:00:04.480
我们试试追踪路线
Let's try trace routes.

3
00:00:04.480 --> 00:00:05.629
我喜欢跟踪路线
I love trace routes.

4
00:00:07.259 --> 00:00:11.560
所以每当我放人的时候都是为了你自己的信息
So whenever I put man something,
that's just for your own information.

5
00:00:11.560 --> 00:00:14.262
你知道我不仅仅是给你随机的命令
Just so you know that I'm not
just giving you random commands,

6
00:00:14.262 --> 00:00:15.999
这才是今天的事
cuz that's what this day's all about.

7
00:00:15.999 --> 00:00:18.359
我想让你知道我们在做什么
I want you to have context
on what we're doing.

8
00:00:18.359 --> 00:00:21.629
我们今天学到的很多，您可以从教程或
A lot of what we learn today,
you can learn from a tutorial or

9
00:00:21.629 --> 00:00:24.059
你可以在谷歌上或者类似的地方查查看
you can look it up on Google or
something like that.

10
00:00:24.059 --> 00:00:26.769
但我想给你所有背景让你问问题
But I wanna give you all the context and
allow you to ask questions and

11
00:00:26.769 --> 00:00:29.100
不能只输入任意命令。
not just type in arbitrary commands.

12
00:00:29.100 --> 00:00:33.450
因此，如果您想运行 traceroute ，请仅运行 traceroute google.com。
So if you wanna run traceroute,
just run traceroute google.com.

13
00:00:33.450 --> 00:00:35.479
我会在这里做的
And I'll go ahead and do that here.

14
00:00:35.479 --> 00:00:40.902
清除google.com 。
Clear, google.com.

15
00:00:42.740 --> 00:00:46.265
当然，我想让你看起来很酷。
And of course, the side benefits classes,
I wanna make you look cool.

16
00:00:46.265 --> 00:00:48.942
所以如果你只是在电脑里想讨好别人
So if you're just at a computer and
trying to impress someone,

17
00:00:48.942 --> 00:00:50.365
只会让 traceroute 发生什么事
just run traceroute something.

18
00:00:50.365 --> 00:00:53.229
它让它看起来像你在做这些很酷的事情。
And it makes it look like you're
doing all this really cool stuff.

19
00:00:53.229 --> 00:00:57.454
但是我们真正做的不是 ping ，而是直接用于这个，
But all we're really doing is instead
of ping, which goes directly to this,

20
00:00:57.454 --> 00:01:00.774
它击中了一个回来的服务器说我还活着
it hits a server that comes back and
says, hey, I'm alive.

21
00:01:00.774 --> 00:01:04.936
Traceroute 为您提供了一个沿该点的地图。
Traceroute gives you a map of
every single hop along that point.

22
00:01:04.936 --> 00:01:08.370
记住我是怎么说互联网建立在服务器和节点上的信任
Remember, how I said the Internet's
built on trust in servers, and nodes,

23
00:01:08.370 --> 00:01:10.019
还有开关吗
and switches?

24
00:01:10.019 --> 00:01:11.817
这就是我们要做的
That's what we're doing.

25
00:01:11.817 --> 00:01:17.150
它映射了每一个我们点击的服务器的路径。
It's mapping the path of every single
server that we hit along the way.

26
00:01:17.150 --> 00:01:21.093
所以每次你看一跳，跳一到二，两到三，
So every time you see another hop, and a
hop is just from one to two, two to three,

27
00:01:21.093 --> 00:01:22.603
三到四种之类的东西
three to four stuff like that.

28
00:01:22.603 --> 00:01:29.579
上面说我在 192.168.3.1
It just says, hey, I'm at 192.168.3.1.

29
00:01:29.579 --> 00:01:34.567
我想去 172.2178.174
I'm trying to get to 172.217.8.174.

30
00:01:34.567 --> 00:01:35.591
我怎么才能到那儿
How do I get there?

31
00:01:35.591 --> 00:01:38.781
所以每一个跳服务器都是这样的，我不知道，但这个人知道。
So every single hop the server's like,
I don't know, but this person knows.

32
00:01:38.781 --> 00:01:39.918
我不知道但这个人知道
I don't know, but this person knows.

33
00:01:39.918 --> 00:01:43.527
最终它就会被传递到一起
And eventually it just gets passed along,
passed along,

34
00:01:43.527 --> 00:01:47.664
直到我们最终在这里真正的谷歌服务器上结束
passed until we end up on the actual
Google server, which is here.

35
00:01:47.664 --> 00:01:51.125
我喜欢 traceroute cuz ，它让我看起来很酷。
I love traceroute cuz, one,
it makes me look cool.

36
00:01:51.125 --> 00:01:54.460
第二，它帮助诊断网络问题。
Two, it helps diagnose network problems.

37
00:01:54.460 --> 00:01:57.359
那么，如果你有一个网站，你的客户说，哎，
So again, if you have a website and
your client says, hey,

38
00:01:57.359 --> 00:02:00.034
我无法到达你的网站你可以运行 traceroute
I can't reach your website,
you can run traceroute.

39
00:02:00.034 --> 00:02:04.521
而 traceroute 会告诉你如果你无法连接的话
And traceroute will tell you exactly where
the hops break down if you can't connect

40
00:02:04.521 --> 00:02:06.069
也可以到现场
to the site either.

41
00:02:06.069 --> 00:02:10.199
所以它可能是一百九十二个，一般都是，
So it could be a hit here which
will be 192, it's generally,

42
00:02:10.199 --> 00:02:13.266
.168 几乎是本地网络。
.168 is your local network almost always.

43
00:02:13.266 --> 00:02:20.579
而这里的点击率是，同流派的人说的，是 ISP吗 ?
And it hits here,
cogento cogento said that, is that an ISP?

44
00:02:22.711 --> 00:02:25.390
不知道，国家的不同部分，但这也打击了 ISP 和
Didn't know, different part of the
country, but that's hitting the ISP and

45
00:02:25.390 --> 00:02:27.953
这就是试图解决的问题 -- > 演讲者 2: 摄政王是我们的 ISP。
that's trying to resolve-
&gt;&gt; Speaker 2: Cogent is our ISP.

46
00:02:27.953 --> 00:02:33.759
>> Jem Young: Cogentco， [SOUND] cogentco，这是一个好名字。
&gt;&gt; Jem Young: Cogentco,
[SOUND] cogentco, that's a good name.

47
00:02:33.759 --> 00:02:38.729
好吧，但是基本上，让我们说两个人在这里死了。
All right, but essentially, let's say
the hops died here at number two.

48
00:02:38.729 --> 00:02:42.600
这意味着 ISP 不能解决问题，而且你知道一些事情是一般的。
That means the ISP is not resolving, and
you know something's just out in general.

49
00:02:42.600 --> 00:02:46.174
如果我们再下去我们就更接近谷歌的分解员了
Versus if we get further down,
we get closer to the Google resolver,

50
00:02:46.174 --> 00:02:49.569
当我们接近实际服务器时它就会消失
as we get closer and closer to
the actual server, and it dies out.

51
00:02:49.569 --> 00:02:53.960
我们知道它可能是一个负载均衡器，它可能是谷歌本身。
We know that it could be a load balancer
that's out, it's probably Google itself.

52
00:02:53.960 --> 00:02:55.479
跟踪路由对
Trace route is very useful for

53
00:02:55.479 --> 00:02:57.590
如果你想确定你的网站出了什么问题
that if you're trying to determine
what's wrong with your site.

54
00:02:59.180 --> 00:03:02.694
这就是你的背口袋里的东西
Again, it's just this thing
to have in your back pocket.

55
00:03:02.694 --> 00:03:06.891
举个例子，当我在家的时候，跳得更快。
And an example of, when I did it at home,
it was much faster hops.

56
00:03:06.891 --> 00:03:09.569
实际上，有 16 个希望能到达谷歌，这其实挺有希望的。
There's actually 16 hops to get to Google,
which is actually quite a bit.

57
00:03:09.569 --> 00:03:12.586
他们通常是非常非常快的
They're usually really, really fast.

58
00:03:12.586 --> 00:03:15.606
请在 frontendmasters.com上试用 traceroute 。
So try traceroute on frontendmasters.com.

59
00:03:21.216 --> 00:03:23.201
>> Jem Young: traceroute。
&gt;&gt; Jem Young: traceroute.

60
00:03:33.485 --> 00:03:37.819
>> Jem Young: 也许，也许会解决问题。
&gt;&gt; Jem Young: Maybe,
maybe it will resolve.

61
00:03:39.099 --> 00:03:41.829
上次我试过这个也没解决
When I tried this last time,
it didn't resolve.

62
00:03:41.829 --> 00:03:42.670
现在可以解决了
It may resolve now.

63
00:03:43.670 --> 00:03:46.551
但发生了什么我就把它开过去换过去
But what's happening,
I'll just leave it running, switch over.

64
00:03:46.551 --> 00:03:49.594
正在发生的是 traceroute 和
What's happening is traceroute and

65
00:03:49.594 --> 00:03:53.920
ping 操作都在运行称为 ICMP 请求的事件。
ping are both running
a thing called ICMP requests.

66
00:03:53.920 --> 00:03:57.310
所以 ICMP 是互联网控制报文协议而不是 TCP
So ICMP is Internet Control
Message Protocol, instead of TCP,

67
00:03:57.310 --> 00:03:59.228
就是传输控制协议
which is Transmission Control Protocol.

68
00:03:59.228 --> 00:04:03.349
这是说，嘿，这些是健康检查。
This is saying, hey,
these are health checks of sort.

69
00:04:03.349 --> 00:04:05.745
所以 ping 是一种健康检查，说你还活着吗 ?
So ping is a sort of health check saying,
are you alive?

70
00:04:05.745 --> 00:04:10.603
Traceroute ，它需要多少跳才能到达服务器，你还活着吗 ?
Traceroute is, how many hops does it take
to get to the server, are you alive?

71
00:04:10.603 --> 00:04:11.973
看起来像是
And looks like it,

72
00:04:11.973 --> 00:04:17.370
您可以将服务器配置为根本不响应 ICMP 请求。
you can configure your server to not
respond to ICMP requests at all.

73
00:04:17.370 --> 00:04:20.220
如果你想 ping frontendmasters.com也会发生同样的事
So the same thing happens if you
try to ping frontendmasters.com,

74
00:04:20.220 --> 00:04:21.569
它不会响应的
it won't respond.

75
00:04:21.569 --> 00:04:24.589
这就是我们所谓的 " 黑洞 " 。
And this is what is we call black holing.

76
00:04:24.589 --> 00:04:29.346
如果你想明确拒绝请求你可以说不允许
Where, if you wanna explicitly deny
requests, you can say, not allowed,

77
00:04:29.346 --> 00:04:30.930
别这样别这样
hey, don't do that.

78
00:04:30.930 --> 00:04:32.300
我们不会接受的
We're not gonna accept that.

79
00:04:32.300 --> 00:04:36.332
黑洞刚说我们都不会回应你的要求
Black holing is just saying, we're not
even gonna respond to your requests.

80
00:04:36.332 --> 00:04:37.923
如果你有个派对你会看到一个很酷的人
If you had a party and
you see a cool person and

81
00:04:37.923 --> 00:04:39.439
他们就完全不理你了
they just ignore you completely.

82
00:04:39.439 --> 00:04:40.980
那是个黑色的洞
That's kinda black holing.

83
00:04:40.980 --> 00:04:42.990
从没发生过这种事
That never happens to me, ever.

84
00:04:42.990 --> 00:04:45.345
我是派对上的凉爽的人
I was the cool person at the party.

85
00:04:45.345 --> 00:04:48.005
我们今天分享了很多信息我们有很长的路要走
We're sharing a lot of information today,
[LAUGH] we got a long way.

86
00:04:48.005 --> 00:04:50.495
我们会在最后的过程中相互了解
We're gonna get to know
each other by the end.

87
00:04:50.495 --> 00:04:55.225
所以 frontendmasters.com 它配置的方式就是把他们的
So frontendmasters.com, the way it's
configured is they just set their

88
00:04:55.225 --> 00:04:59.215
ICMP 请求到一个，他们就会忽略所有这些请求。
ICMP requests to one,
they're just gonna ignore all of them.

89
00:04:59.215 --> 00:05:01.411
这就是 ping 和 traceroute 不起作用的原因。
And that's why ping and
traceroute don't work.

90
00:05:01.411 --> 00:05:03.649
您可以配置 Web 站点以执行该操作。
You can configure your website to do that.

91
00:05:03.649 --> 00:05:06.733
也许你不想被人判死刑通常不会再发生了
Maybe you don't wanna get pinged to death,
which usually doesn't happen anymore.

92
00:05:06.733 --> 00:05:10.550
但在互联网的旧日里，你可以通过 ping 他们的方式来获取网站。
But in the old days of the Internet, you
could take down a site by pinging them.

93
00:05:10.550 --> 00:05:14.553
我可以设置 5 台或 6 台服务器并保持 ping， ping， ping 和
I can set up five or six servers and
just keep pinging, pinging, pinging, and

94
00:05:14.553 --> 00:05:17.971
因为每一个 ping ，计算机都有义务对你做出回应。
because every ping, the computer
is obligated to respond to you.

95
00:05:17.971 --> 00:05:19.531
你可以先去个网站
You can take down a website before,

96
00:05:19.531 --> 00:05:21.720
现在是旧日了，现在不行了。
this is the old days,
now it won't work anymore.

97
00:05:21.720 --> 00:05:25.220
但它只会让服务器过载。
But it would just overload
the server with requests.

98
00:05:25.220 --> 00:05:29.579
您可能要对您的服务器禁用该设置，您可能不希望这样做。
And you may wanna disable that for
your server, you might not want to.

99
00:05:29.579 --> 00:05:31.170
我通常会活的
I usually keep it alive.

100
00:05:31.170 --> 00:05:33.737
它有利于调试，所以我可以 ping 自己的网站。
It's good for debugging, so
I can ping my own website.

101
00:05:33.737 --> 00:05:36.127
我可以在它上运行 traceroute ，但有时你不想要。
I can run traceroute on it, but
sometimes you don't want that.

102
00:05:36.127 --> 00:05:39.750
这对你来说很重要，那就是运行自己的服务器的伟大之处，
And that's totally up to you, that's the
great thing about running your own server,

103
00:05:39.750 --> 00:05:41.050
你是否有完全的控制
is you have complete control.
