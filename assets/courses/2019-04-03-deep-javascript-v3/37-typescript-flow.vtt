WEBVTT

1
00:00:00.050 --> 00:00:02.580
>> 演讲者 1: 引领整个讨论，
&gt;&gt; Speaker 1: So
leading this entire discussion,

2
00:00:02.580 --> 00:00:05.299
我们一直在说我们想知道我们的类型
we've been saying that we
want to know our types.

3
00:00:05.299 --> 00:00:09.539
我们希望使用一种编码方式，使我们的类型更加明显。
We want to use a coding style that
makes our types more obvious.

4
00:00:09.539 --> 00:00:13.929
到这个地步，我一直在用我们所知的关于 JavaScript 的事情来做。
And up to this point I've been using only
what we know about JavaScript to do that.

5
00:00:13.929 --> 00:00:18.410
我一直建议我们可以限制可以进来的
I've been suggesting that we can restrict
the kinds of values that can come in for

6
00:00:18.410 --> 00:00:20.820
例如，类型比较。
type comparisons, for example.

7
00:00:20.820 --> 00:00:22.022
我认为这是一个有效的
And I think that is a valid and

8
00:00:22.022 --> 00:00:24.795
有价值的方法可提高代码的质量。
worthwhile approach that will
improve the quality of your code.

9
00:00:24.795 --> 00:00:27.022
不管你喜欢还是
Regardless of whether you like or

10
00:00:27.022 --> 00:00:33.560
不像 TypeScript 和 Flow 之类的输入系统的当前趋势。
dislike the current trend towards these
typing systems like TypeScript and Flow.

11
00:00:33.560 --> 00:00:36.890
我要在一个更广泛的类别中说，请注意类型。
And I'm gonna say in a broader category,
type-aware linting.

12
00:00:38.799 --> 00:00:43.527
正如我们刚才所说， linting 本质上是一种应用观点的工具。
As we said earlier, linting is essentially
a tool that applies an opinion about

13
00:00:43.527 --> 00:00:47.990
把你的意见给你让你自己决定你知道吗
your code and gives you that opinion so
that you can decide, you know what?

14
00:00:47.990 --> 00:00:49.677
我同意我不该那么做
I agree I shouldn't do that.

15
00:00:49.677 --> 00:00:53.527
我的林子捕捉到各种我不想做的事
My linter catches all kinds of
things that I don't wanna do, and

16
00:00:53.527 --> 00:00:55.462
我很高兴我的林特抓住了它
I'm glad my linter catches it.

17
00:00:56.549 --> 00:00:59.530
我很支持 linting的想法
I'm very much pro the idea of linting.

18
00:00:59.530 --> 00:01:01.969
就像我说的我只支持可以配置的
As I said,
I'm only pro linting that is configurable,

19
00:01:01.969 --> 00:01:05.661
但是，因为没有一个尺寸适合所有。
however, because there is
not a one size fits all.

20
00:01:05.661 --> 00:01:10.370
现在，我并不像你们中的许多人一样，在一个团队中。
Now, I'm not in the situation like many
of you are, where you're on a team.

21
00:01:10.370 --> 00:01:13.650
但即便是在做出决定的情况下
But even with respect to
making that decision,

22
00:01:13.650 --> 00:01:17.180
你应该还能让队伍以民主方式决定
you should still be able to have
the team decide democratically.

23
00:01:17.180 --> 00:01:20.000
不是团队只能选
Rather than the team only be able to pick

24
00:01:20.000 --> 00:01:23.430
世界上每一支队伍都做了些什么
what every other team in
the entire world has done.

25
00:01:23.430 --> 00:01:26.700
最好还是由团队来决定为他们做什么，
It's still better that the team could
decide what works for them, and

26
00:01:26.700 --> 00:01:31.340
团队的个人成员会有这么多的东西
that the individual members of the team
get to have a say-so in what that is.

27
00:01:31.340 --> 00:01:32.680
我们称之为 " 风格指导" 。
We call that style guidance.

28
00:01:34.259 --> 00:01:36.270
那是一个老的学期
That's an old school term.

29
00:01:36.270 --> 00:01:38.400
您的团队需要样式指南，并且
Your team needs a style guide, and

30
00:01:38.400 --> 00:01:40.420
大家应该在样式指南中投一票。
everybody should have
a vote in the style guide.

31
00:01:40.420 --> 00:01:43.865
我不喜欢我去和一个团队合作的时候
I don't like it when I go and
work with a team, and there's some

32
00:01:43.865 --> 00:01:48.234
在为每个人做出决定的团队中仁慈的仁慈的独裁者
benevolent dictator on the team that has
made all the decisions for everybody.

33
00:01:48.234 --> 00:01:50.108
在休息的时候人们会来找我
And people come up to me
during the breaks and

34
00:01:50.108 --> 00:01:53.689
他们就像我害怕的那样他会拒绝我的要求
they're like I'm scared to try this
cuz he's gonna reject my pull request.

35
00:01:53.689 --> 00:01:55.250
这不是一种健康的文化。
That's not a healthy culture.

36
00:01:55.250 --> 00:01:59.200
每个人都应该为你的团队做些什么不是我
Everybody should get a say-so in
what works for your team, not me.

37
00:01:59.200 --> 00:02:01.195
你和你的队员应该说
You and
your team members should get to say.

38
00:02:03.924 --> 00:02:05.240
>> 演讲者 1: 从广义上讲，
&gt;&gt; Speaker 1: So broadly speaking,

39
00:02:05.240 --> 00:02:09.550
我有很多次这个问题，你是怎么想到 TypeScript 的 ??
I get a lot of times this question of
what do you think about TypeScript??

40
00:02:11.229 --> 00:02:16.280
我想的是 " TypeScript " 和 " 流 " 的想法是相似的
Well, what I think about TypeScript and
what I think about Flow are similar,

41
00:02:16.280 --> 00:02:19.579
我很高兴他们的存在尽管我不使用它们
which is I'm glad that they exist
even though I don't use them.

42
00:02:21.229 --> 00:02:25.759
我不使用 TypeScript ，我不使用流，我曾告诉人们
I don't use TypeScript and I don't
use Flow, and I used to tell people

43
00:02:25.759 --> 00:02:29.550
我之所以不这样做是因为他们解决了我没有的问题
the reason I don't do that is because
they solve problems that I don't have.

44
00:02:30.800 --> 00:02:35.020
我现在对这个有不同的看法
I have a different
perspective on that now,

45
00:02:35.020 --> 00:02:37.620
一个最近进化的观点
a perspective that has evolved recently.

46
00:02:39.301 --> 00:02:42.819
不是我不用的，因为我没有
It is not the case that I don't
use them because I don't have

47
00:02:42.819 --> 00:02:46.280
他们解决的同样问题，不是说它的合适方式。
the same problems that they solve,
that's not the appropriate way to say it.

48
00:02:46.280 --> 00:02:48.969
我不使用那些工具或者不喜欢那些工具
I don't use those tools or
don't prefer those tools,

49
00:02:48.969 --> 00:02:52.810
因为他们用一种我认为让我的代码更糟的方式来解决这些问题
because they're fixing the problems in
a way that I think makes my code worse.

50
00:02:54.150 --> 00:02:58.969
正如我在我们讨论的这个单元中一再指出的，问题是存在的。
Problems exist, as I have said over and
over again in this unit of our discussion,

51
00:02:58.969 --> 00:03:02.780
如果您正在编码并且不了解有关您的类型的任何信息，那么这是一个问题。
it is a problem if you are coding and
not knowing anything about your types.

52
00:03:02.780 --> 00:03:05.534
这是一个问题，我们应该解决这个问题。
That is a problem and
we should solve that problem.

53
00:03:05.534 --> 00:03:11.360
只是我对如何解决这个问题有不同的看法，你和我吗 ?
It's just that I have a different
opinion on how to solve it, you with me?

54
00:03:11.360 --> 00:03:15.669
所以在我跟你谈一个解决方案之前
So before I talk to you about a solution,

55
00:03:15.669 --> 00:03:18.270
让我们看看 TypeScript 和 Flow 可以为我们做什么。
let's look at what TypeScript and
Flow can do for us.

56
00:03:19.590 --> 00:03:22.250
从广义上说，他们的好处是什么 ?
What are their benefits, broadly speaking?

57
00:03:22.250 --> 00:03:25.979
我知道这很有道理
I understand that this is a very
sort of reduced argument,

58
00:03:25.979 --> 00:03:29.599
有一个更复杂和生动的生态系统
there is a much more complex and
vivid ecosystem.

59
00:03:29.599 --> 00:03:34.135
我并不是说任何关于这些事的说法都是关于
And I don't mean in any way to talk down
about these, there's a whole course on

60
00:03:34.135 --> 00:03:38.149
Fron趋向 Masters，甚至可能不止一个，关于 TypeScript。
Frontend Masters, or maybe even
more than one, about TypeScript.

61
00:03:38.149 --> 00:03:41.920
这些都是很棒的工具，他们背后有智慧的人。
These are great tools with fantastic,
intelligent people behind them.

62
00:03:41.920 --> 00:03:45.300
但从广义上来说，它们在生态系统中是合适的地方吗 ?
But just sort of broadly speaking,
where do they fit within the ecosystem?

63
00:03:45.300 --> 00:03:47.042
他们会为我们做些什么
What are they gonna do for us?

64
00:03:47.042 --> 00:03:50.847
第一，他们会发现与类型相关的错误，
Well, number one,
they're gonna catch type-related mistakes,

65
00:03:50.847 --> 00:03:52.610
那是件好事
that's a good thing.

66
00:03:52.610 --> 00:03:54.969
我们需要帮助捕捉与类型相关的错误。
We need help catching our
type-related mistakes.

67
00:03:54.969 --> 00:03:59.009
我想有个能理解我想做什么的工具
I would like to have a tool that
understood what I wanna do with types, and

68
00:03:59.009 --> 00:04:01.879
当我没做正确的时候就帮了我
helped me figure out when I
didn't do that correctly.

69
00:04:01.879 --> 00:04:03.009
这会让我更有编码器
That would make me a better coder.

70
00:04:04.240 --> 00:04:08.939
第二，因为输入在代码中，所以它们会传达类型意图。
Number two, they do communicate type
intent, because the typing is in the code.

71
00:04:10.139 --> 00:04:12.620
当然，他们只有在作出推断时才有模式。
Course they have modes where
they are doing only inference.

72
00:04:12.620 --> 00:04:15.689
但本质上， TypeScript 的大卖点和
But essentially,
the big selling point of TypeScript and

73
00:04:15.689 --> 00:04:21.220
流是您可以直接在代码顶部对这些类型的注释进行分层。
Flow is that you can layer these type
annotations directly on top of the code.

74
00:04:21.220 --> 00:04:25.300
在某些方面，你这么做的最大原因之一是
And in some respects, one of the biggest
reasons why you do that is because

75
00:04:25.300 --> 00:04:27.290
这会让你的密码更加明显
it's gonna make your code more obvious.

76
00:04:27.290 --> 00:04:29.324
那么我可以清楚地看到这个东西是一个整数，
Well, I can clearly see that
that thing is an integer,

77
00:04:29.324 --> 00:04:31.149
或者那东西是绳子对吧
or that thing is a string, right?

78
00:04:31.149 --> 00:04:31.649
那就好
That's good.

79
00:04:33.209 --> 00:04:36.139
第三，我认为这常常被忽视，但是
Number three, and
I think this is often overlooked, but

80
00:04:36.139 --> 00:04:38.340
也许是最大的原因之一
maybe one of the biggest things.

81
00:04:38.340 --> 00:04:39.829
是这样做的吗
Is that by doing so,

82
00:04:39.829 --> 00:04:43.649
选择进入这个系统你会得到惊人的数量
by choosing to opt into that system,
you get an amazing amount

83
00:04:43.649 --> 00:04:48.060
通过工具生态系统的反馈，可以直接显示在您的标识中。
of feedback through the tooling ecosystem
that can show up live directly in your ID.

84
00:04:49.389 --> 00:04:52.449
太棒了我见过一些自动完成的
It's awesome,
I've seen some of the auto completing and

85
00:04:52.449 --> 00:04:57.490
有关 " 类型脚本 " 之类的内容的飞行推论和类型分析。
on the fly inferences and type analysis
that something like TypeScript does.

86
00:04:57.490 --> 00:04:59.600
TypeScript 在这一点上比流好很多，但是
TypeScript does it a lot better
than Flow at this point, but

87
00:04:59.600 --> 00:05:02.120
我确定 Flow 会迎头赶上的对吧
I'm sure Flow will catch up, right?

88
00:05:02.120 --> 00:05:04.970
我认为 IDE 与 TypeScript 集成
I think IDE integration with TypeScript

89
00:05:04.970 --> 00:05:09.839
比我在 IDE 中被集成的任何项目都要好
is better than any project that I've ever
seen integrated in an IDE, it's fantastic.

90
00:05:09.839 --> 00:05:12.250
我正好没使用 IDE
I happened to not use IDEs.

91
00:05:12.250 --> 00:05:14.012
所以我不是从这件事中获益的
So I happened to not benefit
from any of that, but

92
00:05:14.012 --> 00:05:16.432
这并不意味着我不尊重它我觉得这很棒
that doesn't mean I don't respect it,
I think it's fantastic.

93
00:05:18.886 --> 00:05:21.750
>> 演讲者 1: 这些工具有一些警告。
&gt;&gt; Speaker 1: There are some
caveats to these tools.

94
00:05:21.750 --> 00:05:26.139
第一，你依赖的，你所依赖的
Number one, the inferencing
that you rely upon, which you

95
00:05:26.139 --> 00:05:29.555
只要你有一个你不会讨厌的地方
rely upon inferencing whenever you have
a place where you're not gonna annotate.

96
00:05:29.555 --> 00:05:33.348
[ LAUGH] 你真正依赖的推断只是一个最好的猜测。
[LAUGH] The inferencing that you
rely on really is just a best guess.

97
00:05:34.750 --> 00:05:36.965
这不是实心的
It's not rock solid.

98
00:05:36.965 --> 00:05:40.519
我们能在编译时尽可能地猜测一些事情。
We're guessing something as
much as we can at compile time.

99
00:05:42.050 --> 00:05:44.601
我们不知道在运行时到底会发生什么
We don't really know what's
actually gonna happen at run time.

100
00:05:44.601 --> 00:05:50.702
因为注释是可选的，所以实际上是第二个。
That flows from number two actually,
because the annotations are optional.

101
00:05:50.702 --> 00:05:54.720
这意味着您所在团队的开发者如果未对其进行注释
Which means the developers on your team,
if they don't put an annotation on

102
00:05:54.720 --> 00:05:59.259
变量， TypeScript 将缺省为任何类型，除非您已关闭。
a variable, TypeScript will default to the
any type unless you have that turned off.

103
00:05:59.259 --> 00:06:03.100
它将缺省为任何类型，然后您将无法从中获益。
It will default to the any type and then
you're not getting any benefit out of it.

104
00:06:03.100 --> 00:06:06.389
所以它是一个选入系统。
So it is an opt-in system.

105
00:06:06.389 --> 00:06:09.870
如果你不选择在某个特定的地方，你只能得到最好的猜测。
And if you don't opt in in a particular
place you're only getting a best guess.

106
00:06:09.870 --> 00:06:13.235
如果你是个非法的人
It can lead to a false
sense of security if you're

107
00:06:13.235 --> 00:06:16.447
不是很小心你的用法
not being very careful
about your usage of it.

108
00:06:20.456 --> 00:06:23.250
>> 演讲者 1: 这是我一直在说的。
&gt;&gt; Speaker 1: This flows from really
what I've been saying the whole time.

109
00:06:23.250 --> 00:06:27.420
那个没有打字的地方在你的代码里
That any place that isn't typed,
either in your code or

110
00:06:27.420 --> 00:06:31.050
您的代码所涉及的内容不在您的应用程序中。
things that your code touches
that are not in your application.

111
00:06:31.050 --> 00:06:33.240
如果没有输入，则存在不确定性。
If they aren't typed there is uncertainty.
