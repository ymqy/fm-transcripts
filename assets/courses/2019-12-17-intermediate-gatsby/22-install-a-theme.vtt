WEBVTT

1
00:00:00.410 --> 00:00:02.529
在这一点上，我想跳到一个真正的网站。
&gt;&gt; Jason Lengstorf: At this point,
I wanna jump into a real site.

2
00:00:02.529 --> 00:00:04.280
我想跳进一个工作场所。
I wanna jump into a working site.

3
00:00:04.280 --> 00:00:09.960
所以我们要打开 Honkify 网站。
So we're going to open
up the Honkify site.

4
00:00:09.960 --> 00:00:12.163
并且已经安装在你的,
And that will already
be installed in your,

5
00:00:15.590 --> 00:00:17.041
jason Lengstorf: 这里是代码编辑器，所以
&gt;&gt; Jason Lengstorf: Code editor here, so

6
00:00:17.041 --> 00:00:19.385
我们可以把包裹缝起来。
we can just close up the packages.

7
00:00:19.385 --> 00:00:21.010
我们要去 Honkify 工作。
We're gonna be working in Honkify.

8
00:00:21.010 --> 00:00:23.408
所以就看一下吧。
So just take a look at it.

9
00:00:23.408 --> 00:00:27.007
它有一个 index.mdx，所以它已经在使用 mdx 了。
It's got an index.mdx, so
it's already using mdx.

10
00:00:27.007 --> 00:00:30.899
让我们启动它，然后看一下，好吗？
And let's just boot it up and
take a look, yeah?

11
00:00:30.899 --> 00:00:36.069
为此，我们开发了纱线工作空间
So we do yarn workspace honkify develop

12
00:00:48.500 --> 00:00:49.588
杰森 · 兰斯托夫: 好吧，那么
&gt;&gt; Jason Lengstorf: Okay, so

13
00:00:49.588 --> 00:00:54.759
我们的图书馆有一个营销页面。
we've got a marketing page for
our library.

14
00:00:54.759 --> 00:00:58.979
这是一个非常重要，非常有用的 JavaScript 库，我鼓励使用它
This is a very important, very useful
JavaScript library that I would encourage

15
00:00:58.979 --> 00:01:00.890
你们所有人今天都要安装。
all of you to install today.

16
00:01:00.890 --> 00:01:03.320
当你打开它的时候,
What it does is when you turn it on,

17
00:01:03.320 --> 00:01:07.980
它会确保你的浏览器按喇叭而不是跟随链接。
it will make sure that your browser
honks instead of following links.

18
00:01:07.980 --> 00:01:10.349
我想添加文档到这个网站。
I wanna add documentation to this site.

19
00:01:10.349 --> 00:01:11.489
所以我建了一个图书馆。
So I've built a library.

20
00:01:11.489 --> 00:01:12.167
我有一个主页。
I've got a homepage.

21
00:01:12.167 --> 00:01:16.807
每个人都喜欢它，每个人都想使用它，但是我们还没有添加文档。
Everybody loves it, everybody wants to
use it, but we haven't added docs yet.

22
00:01:16.807 --> 00:01:19.162
所以我不想从头开始重新设计医生。
So I don't wanna have to
reinvent docs from scratch.

23
00:01:19.162 --> 00:01:20.829
我想安装一个主题。
I wanna install a theme.

24
00:01:20.829 --> 00:01:25.879
所以我能做的就是安装这个主题。
So what I can do is I can
just install this theme.

25
00:01:25.879 --> 00:01:29.620
所以我们要停止服务器。
So we're going to stop the server.

26
00:01:29.620 --> 00:01:34.480
我将使用
And I will install the theme using

27
00:01:34.480 --> 00:01:38.828
纱线工作空间。
yarn workspace honkify add.

28
00:01:38.828 --> 00:01:43.758
因为我们要安装一个本地主题所以我要加上引号,
And then because we're installing a local
theme, I'm gonna put it in quotes,

29
00:01:43.758 --> 00:01:45.902
“ gatsby-theme-docs@* ”。
"gatsby-theme-docs@*".

30
00:01:51.629 --> 00:01:52.531
杰森 · 兰斯托夫: 好的，一切都很好。
&gt;&gt; Jason Lengstorf: Okay, all good.

31
00:01:52.531 --> 00:01:59.979
然后我将在我的 gatsby 配置中配置它。
Then I'm going to actually
configure it in my gatsby config.

32
00:01:59.979 --> 00:02:04.010
为了做到这一点，我要下去
And so to do that,
I'm just gonna go down and

33
00:02:04.010 --> 00:02:08.639
我们将把它放在盖茨比插件主题 UI 的正上方。
we'll stick it right above
gatsby plugin theme UI.

34
00:02:09.780 --> 00:02:11.560
秩序在这里不重要。
Order shouldn't matter here.

35
00:02:11.560 --> 00:02:13.120
我没有测试它。
I didn't test it.

36
00:02:13.120 --> 00:02:15.050
我不会冒险的。
And I'm not gonna tempt fate.

37
00:02:15.050 --> 00:02:18.719
所以让我们把它放在我上次放的地方。
So let's put it where I put it last time.

38
00:02:18.719 --> 00:02:20.219
我们要把它安装在这里。
We're going to install it here.

39
00:02:20.219 --> 00:02:23.329
这次我们要在主题上设置一些选项，因为我们已经
We're going to set some options on
the theme this time because we already

40
00:02:23.329 --> 00:02:24.789
有个主页，对吗？
have a homepage, right?

41
00:02:24.789 --> 00:02:30.420
所以我们希望我们的文档生存在斜杠文档中，而不是像站点的根目录那样。
So we want our docs to live at slash docs,
not at like the root of the site.

42
00:02:30.420 --> 00:02:33.479
所以我要设置一个文档的基本路径。
So I'm gonna set a base path of docs.

43
00:02:34.780 --> 00:02:37.340
我要处理一个前导斜杠。
And I'm gonna deal with
with a leading slash there.

44
00:02:37.340 --> 00:02:40.485
因为我们已经安装了 MDX,
And then because we already
have MDX installed,

45
00:02:40.485 --> 00:02:43.562
我想说我确实想使用外部 MDX。
I'm gonna say that I do
wanna use external MDX.

46
00:02:48.332 --> 00:02:52.963
一旦安装完成，我能做的就是让我们看看。
&gt;&gt; Jason Lengstorf: And once that is
installed, what I can do is let's see.

47
00:02:58.252 --> 00:02:59.479
杰森 · 兰斯托夫: 让我们启动它，看看效果如何。
&gt;&gt; Jason Lengstorf: Let's just
start it up and see how it goes.

48
00:02:59.479 --> 00:03:04.139
为此，开发纱线工作空间。
So yarn workspace honkify develop.

49
00:03:06.819 --> 00:03:09.449
在这里，我们已经有了。
And in honkify, we've already got.

50
00:03:09.449 --> 00:03:12.340
为了避免创建大量文件,
To avoid having to
create a bunch of files,

51
00:03:12.340 --> 00:03:16.449
我只是在这里创建了一些空的文档供我们使用。
I just created some empty docs
files here for us to work with.

52
00:03:16.449 --> 00:03:20.782
好像有什么东西坏了。
And looks like something broke.

53
00:03:29.758 --> 00:03:30.812
杰森 · 兰斯托夫: 我漏了一个逗号。
&gt;&gt; Jason Lengstorf: I missed a comma.

54
00:03:34.135 --> 00:03:36.051
Jason Lengstorf: 在逗号到位的情况下再试一次。
&gt;&gt; Jason Lengstorf: Try that one
more time with the comma in place.

55
00:03:42.222 --> 00:03:43.150
杰森 · 兰斯托夫: 好的，网站正在运行。
&gt;&gt; Jason Lengstorf: Okay,
the site's running.

56
00:03:45.538 --> 00:03:46.236
没有错误。
&gt;&gt; Jason Lengstorf: No errors.

57
00:03:49.036 --> 00:03:51.743
杰森 · 兰斯托夫: 好的，所以如果我们来这里看看,
&gt;&gt; Jason Lengstorf: Okay, and so
if we come out here and we look,

58
00:03:51.743 --> 00:03:55.569
没有什么明显的改变，但是如果我使用 Docs 会发生什么呢？
nothing is visibly changed, but
what happens if I go to Docs?

59
00:03:56.650 --> 00:03:58.889
我没有创建索引页面。
And I didn't create an index page.

60
00:03:58.889 --> 00:04:04.050
那么让我们来看看文档 / 安装。
So let's go to doc/installation.

61
00:04:04.050 --> 00:04:09.250
好吧，我们的主题是可行的，但不是很正确。
Okay, so our theme works,
but it's not quite right.

62
00:04:09.250 --> 00:04:13.747
它选择了颜色，但是没有选择主题。
It's picking up the colors but
it's not picking up the theme.

63
00:04:13.747 --> 00:04:18.579
所以我们要使用组件阴影来告诉文档主题使用
So we're gonna use component shadowing
to tell the Docs theme to use

64
00:04:18.579 --> 00:04:20.459
Honkify 的布局。
the layout from honkify.

65
00:04:20.459 --> 00:04:24.826
所以让我们跳到这里，在源文件夹,
So let's hop in here and
in the source folder,

66
00:04:24.826 --> 00:04:32.115
我要创建一个新文件，它会存在于盖茨比主题文档中。
I'm going to create a new file and
it's gonna live in gatsby-theme-docs.

67
00:04:32.115 --> 00:04:34.909
一旦我们进入盖茨比主题文档,
And once we go into gatsby-theme-docs,
again,

68
00:04:34.909 --> 00:04:39.394
我们所做的当你的组件跟踪是通过目标这个文件夹,
what we're doing when you're component
shadowing is by targeting this folder,

69
00:04:39.394 --> 00:04:43.149
我们可以访问主题内部的完整源文件夹。
we get access to the full source
folder inside of the theme.

70
00:04:43.149 --> 00:04:45.909
所以我们不包括来源。
So we don't include the source.

71
00:04:45.909 --> 00:04:47.840
我们直接进入里面的东西。
We just go straight into
whatever's in there.

72
00:04:47.840 --> 00:04:50.939
所以我们想知道这些组件。
So we wanna get at the components.

73
00:04:50.939 --> 00:04:53.370
我想改变 layout.js。
And I wanna change layout.js.

74
00:04:53.370 --> 00:04:56.930
现在，当我重启服务器的时候,
So now, what will happen is
when I restart the server,

75
00:04:56.930 --> 00:04:58.899
博士的主题是拿起这个文件。
the docs theme is gonna pick up this file.

76
00:04:58.899 --> 00:05:01.870
所以如果我现在这么做，它会失败，因为它不是一个反应元件。
So if I did it right now, it would fail
because it's not a react component.

77
00:05:01.870 --> 00:05:06.834
所以我要做的代替是我要导入布局从,
So what I'm gonna do instead is
I'm gonna import layout from,

78
00:05:06.834 --> 00:05:12.370
让我们在这棵树上，我要得到组件 / 布局。
let's get up the tree here, and
I'm gonna get components/layout.

79
00:05:12.370 --> 00:05:16.519
然后我要导出默认布局。
And then I'm going to
export default layout.

80
00:05:16.519 --> 00:05:20.040
所以实际上我刚才说的是,
So effectively what I've
just done is I've said, hey,

81
00:05:20.040 --> 00:05:23.199
文档主题，使用这个布局组件。
docs theme,
use this layout component instead.

82
00:05:23.199 --> 00:05:24.923
因此，它将取代我们。
And so it will replace that for us.

83
00:05:24.923 --> 00:05:27.947
所以让我们实现它。
So let's make that happen.

84
00:05:33.997 --> 00:05:36.252
杰森 · 兰斯托夫: 在开始的时候,
&gt;&gt; Jason Lengstorf: And
upon getting started up,

85
00:05:36.252 --> 00:05:40.399
当我们刷新页面的时候我们会看到,
what we should see when we
refresh the page is that now,

86
00:05:40.399 --> 00:05:45.625
我们的文档还能用，但是他们从我们的网站上提取了图层。
our docs still work but
they've picked up the layer from our site.

87
00:05:45.625 --> 00:05:49.485
所以不需要对主题本身做任何修改,
So without having to make any
changes to the theme itself,

88
00:05:49.485 --> 00:05:53.024
我们的主题文件现在看起来，像是属于这个网站的。
our theme files now look like
they belong on this site.

89
00:05:53.024 --> 00:05:57.139
当我们移动的时候，它看起来就像是同一个网站的一部分。
And when we move around, it looks
like it's all part of the same site.

90
00:05:57.139 --> 00:06:00.290
这就是我们开始看到盖茨比主题的力量的地方。
So this is where we start to
see the power of gatsby themes.

91
00:06:00.290 --> 00:06:02.629
我们做了，什么八行代码和
We did, what eight lines of code and

92
00:06:02.629 --> 00:06:06.639
我们现在已经在网站上建立了一个功能齐全的文档部分。
we've got a fully functional doc section
on the site now that we built it.

93
00:06:06.639 --> 00:06:12.360
这是一个非常强大的模型，当我们进入它时，它给了我们很大的力量。
That's a really powerful model that gives
us a lot of power when we get into it.

94
00:06:12.360 --> 00:06:18.495
接下来我们要做的是，我想能够使用这个按钮，对吗？
The next thing that we wanna do is I want
to be able to use this button, right?

95
00:06:18.495 --> 00:06:22.865
我们有这个按钮，我想能够使用，在一个活动的可编辑区域。
We've got this button I wanna be able
to use that in a live editable region.

96
00:06:22.865 --> 00:06:27.262
所以我要做的就是创建一个 scope.js
So what I'm gonna do is I'm
going to create a scope.js and

97
00:06:27.262 --> 00:06:32.221
现在我们要覆盖主题内部的 scope.js。
now we're gonna overriding that
scope.js inside of the theme.

98
00:06:32.221 --> 00:06:36.511
我可以导入按钮
And I can import the button

99
00:06:36.511 --> 00:06:41.192
从组件 / 按钮。
from components/button.

100
00:06:41.192 --> 00:06:42.677
然后我要导出默认值。
And then I'm gonna export default.

101
00:06:42.677 --> 00:06:44.899
我只是希望这个按钮是可用的。
And I just want the button
to be available.

102
00:06:47.687 --> 00:06:54.327
Jason Lengstorf: 为了测试这一点，让我们停止并重新启动。
&gt;&gt; Jason Lengstorf: And to test this,
let's stop and restart.

103
00:06:54.327 --> 00:06:58.752
我要去看看医生
And I'm gonna go into the docs and

104
00:06:58.752 --> 00:07:03.185
我们加入一个可编辑的块。
let's add in an editable block.

105
00:07:03.185 --> 00:07:09.247
所以我们要设置 jsx，使它的反应-生活和
So we're gonna setup jsx,
make it react-live and

106
00:07:09.247 --> 00:07:12.637
我想导出一个函数。
I want to export a function.

107
00:07:12.637 --> 00:07:16.404
所以我要为它编写一个自定义的点击处理程序。
So I'm gonna write a custom
click handler for it.

108
00:07:16.404 --> 00:07:18.019
这就是我们以前做过的警报。
And that will just be that
alert that we did before.

109
00:07:20.783 --> 00:07:25.740
我们将返回一个片段
&gt;&gt; Jason Lengstorf: And
we will return a fragment

110
00:07:25.740 --> 00:07:29.877
有个方向。
that's got a heading.

111
00:07:29.877 --> 00:07:34.090
然后我们将使用我们的按钮。
And then we will use our button.

112
00:07:34.090 --> 00:07:37.110
所以我们没有导入按钮，我们已经把它放在范围内。
So we're not importing the button,
we already put it in the scope.

113
00:07:37.110 --> 00:07:38.519
这意味着我们可以使用它。
That means that we can use it.

114
00:07:38.519 --> 00:07:40.240
所以我要设置一些文本。
So I'm gonna set up some text.

115
00:07:40.240 --> 00:07:42.430
我们的短信会按喇叭的。
Our text is gonna be honk.

116
00:07:42.430 --> 00:07:47.100
而 onClick 将是我们刚才写的句柄点击函数。
And the onClick is going to be our handle
click function that we just wrote.

117
00:07:48.370 --> 00:07:54.699
好吧，假设一切顺利，当我保存这个，回来。
Okay, so, assuming all has gone well,
when I save this, get back out.

118
00:07:57.170 --> 00:07:59.019
我忘了关我的碎片。
I forgot to close my fragment.

119
00:07:59.019 --> 00:08:01.529
但我们可以看到，它为我们捕捉到了这一点。
But we can see here,
it caught that for us.

120
00:08:01.529 --> 00:08:03.480
它告诉我们，我们搞砸了，对不对？
It told us that we screwed it up, right?

121
00:08:03.480 --> 00:08:09.730
所以现在，一旦我关闭这个，回到这里。
So now, once I close this up,
come back out here.

122
00:08:09.730 --> 00:08:11.571
就是这样，好的，所以它发出咔嗒声。
There we go.
Okay, so it clicks.

123
00:08:11.571 --> 00:08:17.918
更有趣的是，如果我们激活 honkify，它就会工作。
And what's even more fun is if we
activate honkify, [SOUND] it works.

124
00:08:17.918 --> 00:08:19.606
它与页面相互作用，对吗？
It interacts with the page, right?

125
00:08:19.606 --> 00:08:24.394
这是一个非常非常好的建立交互式示例的方法
So this is a really, really nice way
to set up interactive examples and

126
00:08:24.394 --> 00:08:30.399
允许人们玩游戏，这样他们就可以实时看到事情是如何工作的，然后进行编辑。
allow people to play so that they can see
how things work in real time and edit.

127
00:08:30.399 --> 00:08:34.886
我认为我们需要做的最后一件事，[声音]哎呀。
And I think the last thing that
we need to do, [SOUND] whoops.

128
00:08:34.886 --> 00:08:38.899
我们只需要给它添加一个链接。
[LAUGH] Is we just need
to add a link to it.

129
00:08:38.899 --> 00:08:45.815
所以如果我们进入我们的页面，我们可以复制这个并且说，阅读文档。
So if we go into our pages, we can just
duplicate this and say, read the docs.

130
00:08:45.815 --> 00:08:50.429
我们直接跳过这个安装过程。
And we'll just skip right
through to that installation.

131
00:08:52.480 --> 00:08:55.149
所以现在在我们的主页上，我们有一个到文档的链接。
So now on our homepage,
we've got a link to the docs.

132
00:08:55.149 --> 00:08:59.240
只用了五到十分钟。
And in what, took like five, ten minutes.

133
00:08:59.240 --> 00:09:04.083
我们只是在一个现有的站点上建立了一个全新的文档部分
We just set up an entirely new doc section
on an existing site that looks like it

134
00:09:04.083 --> 00:09:05.510
属于这个网站。
belongs on this site.

135
00:09:05.510 --> 00:09:09.410
所以我认为这就是你开始看到盖茨比主题的力量的地方
And so I think this is where you start
to see the power of gatsby themes and

136
00:09:09.410 --> 00:09:11.817
为什么有如此强大的抽象概念。
why there's such a powerful abstraction.

137
00:09:11.817 --> 00:09:16.119
因为我们做了所有的痛苦，设置配置和潜水通过
Cuz we did all of that pain of setting
up the config and diving through

138
00:09:16.119 --> 00:09:21.500
定制，并确保 docs 文件夹已经创建。
the GraphQL Schema customization, and
making sure that the docs folders created.

139
00:09:21.500 --> 00:09:27.429
所有这些工作，最终的结果就是我们得到了这样的即插即用的东西。
All that work, and the end result is we
get plug-and-play drop in stuff like this.

140
00:09:27.429 --> 00:09:30.559
当你开始使用相反的主题时，这真的是一个很好的体验
It's really really nice experience when
you start using the theme as opposed to

141
00:09:30.559 --> 00:09:32.470
建造它。
building it.

142
00:09:32.470 --> 00:09:33.740
所以，让我们保存我们的工作。
So let's save our work.

143
00:09:33.740 --> 00:09:39.989
然后，我想看看它的感觉如何创建一个新的网站使用的主题。
And then, I wanna see how it feels to
create a new site using the theme.

144
00:09:39.989 --> 00:09:41.381
我要去哪儿，我们到了。
Where am I going, here we are.

145
00:09:41.381 --> 00:09:45.259
所以我们要做一个 git add all。
So we're gonna do a git add all.

146
00:09:45.259 --> 00:09:47.620
检查状态。
Check the status.

147
00:09:49.230 --> 00:09:53.269
我们得到了修改过的安装说明设置了主题,
And we've got our modified installation
instructions, we set up the theme,

148
00:09:53.269 --> 00:09:59.480
安装主题，隐藏布局和范围，并更新主页。
installed the theme, shadowed the layout
and the scope, and updated the home page.

149
00:09:59.480 --> 00:10:07.131
那么让我们提交 Jason Lengstorf: 好的,
So let's commit
&gt;&gt; Jason Lengstorf: Okay,

150
00:10:07.131 --> 00:10:08.159
我们把那个推上去。
let's get that pushed up.
